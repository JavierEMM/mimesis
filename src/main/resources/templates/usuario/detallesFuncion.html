<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:form="http://www.w3.org/1999/html">
<head th:replace="includes/head.html :: head">MIMESIS</head>
<body>

  <div class="row">
    <div class="col">
      <header th:replace="includes/navbar.html :: navbar(option='Funciones')"></header>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <main id="main" class="main-page">
        <div class="container">
          <div class="alert" th:classappend="${alerta}" th:if="${reserva != null}" th:text="${reserva}"></div>
          <div class="row">
            <div class="col-md-6 display-col">
              <img th:src="@{|/images/${obra.getId()}|}" alt="moby_dick" class="pr-img">
            </div>

            <div class="col-md-6 vertical-align">
              <div class="section-right">
                <h2 class="mayus" th:text="${obra.nombre}"></h2>

              </div>
              <div class="row">
                <div class="col details">
                  <p class="text-center" th:text="${obra.descripcion}"></p>
                  <p class="text-center" th:text="${obra.getGeneroIdgenero().nombre} + ${' | +' +obra.restricciondeedad}"></p>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <form method="post" th:action="@{${'/carrito/reservar?obra='+obra.nombre}}">
                    <h3 class="text-center">Reserva Aqu√≠</h3>
                    <select th:if="${listaTeatros.size() != 0 && listaTeatros.size() != null}" class="form-select select-center" name="teatro">
                      <option SELECTED value="0">Selecciona el teatro</option>
                      <option th:each="teatro : ${listaTeatros}" th:value="${teatro.id}" th:text="${teatro.nombre +'| '+ teatro.ubicacion}"></option>
                    </select>
                    <p th:if="${listaTeatros.size() == 0 || listaTeatros.size() == null}" class="text-center mt-3">NO HAY FUNCIONES DISPONIBLES</p>
                    <div class="btn-center">
                      <button type="submit" class="btn btn-success">Reservar</button>
                      <a th:href="@{/funciones}" class="btn btn-secondary">Regresar</a>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
<footer th:replace="includes/footer.html :: footer"></footer>
</body>
</html>
